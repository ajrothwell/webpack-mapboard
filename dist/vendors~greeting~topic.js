(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{255:function(t,e,s){"use strict";var n={props:{slots:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},beforeCreate(){},created(){},computed:{nullValue(){return(this.options||{}).nullValue}},methods:{evaluateSlot(t,e=[],s=""){if(!t)return t;let n;if("function"===typeof t){const e=this.$store.state,s=this.$controller,o=t,i=this.item;n=i?o(e,i,s):o(e)}else n=t;if(!1===n);else if(!n)return s;for(let t of e){const e=this.$config.transforms[t];let s;const o=e.globals;o&&(s=Object.keys(window).filter(t=>o.includes(t)).reduce((t,e)=>(t[e]=window[e],t),{})),n=(0,e.transform)(n,s)}return n}}},o=s(8),i=Object(o.a)(n,void 0,void 0,!1,null,null,null);e.a=i.exports},260:function(t,e,s){"use strict";e.a=function(){return"id-"+Math.random().toString(36).substring(7)}},265:function(t,e,s){var n=s(325);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},266:function(t,e,s){var n=s(327);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},267:function(t,e,s){var n=s(329);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},268:function(t,e,s){var n=s(331);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},269:function(t,e,s){var n=s(333);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},270:function(t,e,s){var n=s(335);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},271:function(t,e,s){var n=s(337);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},272:function(t,e,s){var n=s(339);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},273:function(t,e,s){var n=s(341);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},274:function(t,e,s){var n=s(343);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},275:function(t,e,s){var n=s(345);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},276:function(t,e,s){var n=s(347);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},277:function(t,e,s){var n=s(349);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},278:function(t,e,s){var n=s(351);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},279:function(t,e,s){var n=s(353);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},280:function(t,e,s){var n=s(355);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};s(10)(n,o);n.locals&&(t.exports=n.locals)},293:function(t,e,s){"use strict";s.r(e);var n=s(260),o=s(255),i={name:"AnyHeader",mixins:[o.a],computed:{headerType(){return this.$props.options.headerType},additionalTags(){return this.$props.slots.additionalTags||[]},message(){let t="";for(let e of this.additionalTags)t=t+"<"+e+">";t+=this.evaluateSlot(this.$props.slots.text,this.$props.slots.transforms);for(let e of this.additionalTags)t=t+"</"+e+">";return t},style(){if(this.$props.options)return this.$props.options.style||""}}},a=s(8),r=Object(a.a)(i,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["h1"===this.headerType?s("h1",{style:this.style,domProps:{innerHTML:t._s(this.message)}}):t._e(),t._v(" "),"h2"===this.headerType?s("h2",{style:this.style,domProps:{innerHTML:t._s(this.message)}}):t._e(),t._v(" "),"h3"===this.headerType?s("h3",{style:this.style,domProps:{innerHTML:t._s(this.message)}}):t._e(),t._v(" "),"h4"===this.headerType?s("h4",{style:this.style,domProps:{innerHTML:t._s(this.message)}}):t._e(),t._v(" "),"h5"===this.headerType?s("h5",{style:this.style,domProps:{innerHTML:t._s(this.message)}}):t._e(),t._v(" "),"h6"===this.headerType?s("h6",{style:this.style,domProps:{innerHTML:t._s(this.message)}}):t._e()])},[],!1,null,"4cad7d8b",null).exports,l={mixins:[o.a],props:["count","limit","type"],computed:{externalLinkCount(){return this.count-this.limit},externalLinkAction(){const t=this.options.action;if(t)return t(this.externalLinkCount)||"See more at "},externalLinkDataFromState(){const t=this.options.data;return this.evaluateSlot(t)},externalLinkText(){if(this.options){const t=this.options.name||"";return"vertical-table"===this.type?t?`${this.externalLinkAction} at ${t}`:`${this.externalLinkAction}`:"horizontal-table"===this.type?`${this.externalLinkAction}`:`${this.externalLinkDataFromState}`}return null},externalLinkHref(){return this.options?this.evaluateSlot(this.options.href):null}}},p=(s(324),Object(a.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"external-link"},[e("a",{attrs:{target:"_blank",href:this.externalLinkHref}},[this._v("\n    "+this._s(this.externalLinkText)+"\n    "),e("font-awesome-icon",{attrs:{icon:"external-link","aria-hidden":"true"}})],1)])},[],!1,null,"6946008e",null).exports),c={name:"Badge",mixins:[o.a],components:{ExternalLink:p},computed:{style(){const t=(this.options||{}).titleBackground;let e;return{background:e=t?"function"==typeof t?t(this.$store.state):t:"#444"}}}},h=(s(326),Object(a.a)(c,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"center"},[s("div",{staticClass:"mb-badge panel"},[s("div",{staticClass:"mb-badge-header",style:t.style},[t._v("\n      "+t._s(t.evaluateSlot(t.slots.title))+"\n    ")]),t._v(" "),s("div",{staticClass:"mb-badge-body"},[s("h1",[t._v(t._s(t.evaluateSlot(t.slots.value)))]),t._v(" "),s("strong",[t._v(t._s(t.evaluateSlot(t.slots.description)))])])]),t._v(" "),t.options&&t.options.externalLink?s("external-link",{attrs:{options:t.options.externalLink,type:"badge"}}):t._e()],1)},[],!1,null,"7881f935",null).exports),d={mixins:[o.a],computed:{message(){if(this.$props.slots)return this.evaluateSlot(this.$props.slots.text)},class(){if(this.$props.options)return this.$props.options.class||""},style(){if(this.$props.options)return this.$props.options.style||""}}},u=Object(a.a)(d,function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{class:"button "+this.class,style:this.style,attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.evaluateSlot(t.slots.buttonAction)}}},[t._v("\n  "+t._s(t.message)+"\n")])},[],!1,null,"2fac047a",null).exports,m={mixins:[o.a],computed:{calloutClass(){if(this.$props.options)return this.$props.options.class?this.$props.options.class:"columns small-24"},message(){return this.$props.slots&&this.evaluateSlot(this.$props.slots.text)||""},components(){return this.$props.options&&this.$props.options.components||null}},components:{},beforeCreate(){this.$options.components.TopicComponentGroup=ot}},v=(s(328),Object(a.a)(m,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper grid-y"},[e("div",{class:"callout "+this.calloutClass},[this.message?e("p",{domProps:{innerHTML:this._s(this.message)}}):this._e(),this._v(" "),this.components?e("topic-component-group",{attrs:{"topic-components":this.components}}):this._e()],1)])},[],!1,null,"e45772ae",null).exports),f={mixins:[o.a],computed:{summary(){const t=this.valueQuantities;return(0,this["context"+(this.isPlural(t)?"Plural":"Singular")])(this.naturalList)},contextSingular(){const t=this.options.context;return t.singular||t},contextPlural(){const t=this.options.context;return t.plural||t},descriptorSingular(){const t=this.options.descriptor;return t.singular||t},descriptorPlural(){const t=this.options.descriptor;return t.plural||t+"s"},naturalList(){const t=this.valueQuantities,e=this.naturalizeQuantities(t),s=e.length;if(Array.isArray(e)&&s>0){if(1===s)return e[0];if(2===s)return e.join(" and ");return`${e.slice(0,e.length-1).join(", ")}, and ${e[e.length-1]}`}return`no ${this.descriptorPlural}`},valueQuantities(){const t=this.slots.items(this.$store.state),e=this.options.getValue;return t.reduce((t,s)=>{const n=e(s);return t[n]=t[n]||0,t[n]++,t},{})}},methods:{isPlural(t={}){const e=Object.keys(t);if(1===e.length){if(1===t[e[0]])return!1}return!0},naturalizeQuantities(t={}){const e=this.options.types,s=this.options.includeZeroes;return e.reduce((e,n)=>{const o=n.value;let i=t[o]||0;if(0===i){if(!s)return e;i="no"}const a=n.label;let r;if(1!==i){r=n.plural||a+"s"}else r=a;const l=`${i} ${r}`;return e.push(l),e},[])}}},b=Object(a.a)(f,function(){var t=this.$createElement;return(this._self._c||t)("h3",[this._v("\n  "+this._s(this.summary)+"\n")])},[],!1,null,"10a949da",null).exports,g={mixins:[o.a],computed:{message(){return this.evaluateSlot(this.$props.slots.text)},class(){return this.$props.options.class||""},style(){return this.$props.options.style||""},vshowComputed(){return!this.$props.slots||!1!==this.evaluateSlot(this.$props.slots.vshowProp)}},components:{},beforeCreate(){this.$options.components.TopicComponentGroup=ot}},x=Object(a.a)(g,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.vshowComputed,expression:"this.vshowComputed"}],class:this.class,style:this.style},[e("topic-component-group",{attrs:{"topic-components":this.$props.options.components}})],1)},[],!1,null,"a8e2f1c6",null).exports,y=s(40),w=s(99),$=s.n(w);const _=["principal","interest","penalty","other"];var T={mixins:[o.a],data(){return{parseData:{accountNum:this.$store.state.sources.tips.data.data.accountNum,totalDue:"",balances:this.$store.state.sources.tips.data.data,address:{streetAddress:this.$store.state.sources.tips.data.data.property.address,zipCode:this.$store.state.geocode.data.properties.zip_code}},xmlData:{},buttonStyle:"height: "+this.$props.options.height+"px;       width: "+this.$props.options.width+"px;       font-size: "+this.$props.options.fontSize+"px;       ",actionAddress:this.$props.options.actionAddress||"https://test-secure.phila.gov/PaymentCenter/Gateway1/InitiatePurchase.aspx"}},created(){this.parseData.totalDue=this.calculateTotalDue(),this.$store.commit("setPropertyBalance",this.parseData.totalDue),this.xmlData=function(t){if(console.log("generate billing xml",t),Object.keys(t).length<1)return"";let e=Object(y.format)(new Date,"YYYY-MM-DDTHH:mm:ssZ");const s=`<?xml version="1.0" encoding="utf-16"?>\n<BillingStatement xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n  <ApplicationID>fcd68fd2-e923-4b03-a0e7-a678c2ed612a</ApplicationID>\n  <AccountNumber />\n  <BillNumber>${t.balances.accountNum}</BillNumber>\n  <StatementNumber />\n  <BillingDate>${e}</BillingDate>\n  <DueDate>${e}</DueDate>\n  <TotalDue>${t.totalDue}</TotalDue>\n  <DepartMentId>0</DepartMentId>\n  <Fund>0</Fund>\n  <PaymentDate>0001-01-01T00:00:00</PaymentDate>\n  <Quantity>0</Quantity>\n  <ItemAmount>0</ItemAmount>\n  <TotalAmountdue>0</TotalAmountdue>\n  <PartialPaymentFlag>false</PartialPaymentFlag>\n  <ReceiptpresentFlag>false</ReceiptpresentFlag>\n  <Details>\n    <BillingStatementDetail>\n      <ItemDate>${e}</ItemDate>\n      <ItemDescription>Real Estate Tax</ItemDescription>\n      <Charges>${t.totalDue}</Charges>\n      <Credits>0</Credits>\n    </BillingStatementDetail>\n  </Details>\n  <Customers>\n    <Customer>\n      <FirstName>${t.balances.property.ownerName}</FirstName>\n      <MiddleName />\n      <LastName />\n      <BillingAddress>\n        <Address>\n          <AddressLine1>${t.address.streetAddress}</AddressLine1>\n          <City>PHILADELPHIA</City>\n          <State>PA</State>\n          <PostalCode>${t.address.zipCode}</PostalCode>\n          <Country>US</Country>\n        </Address>\n      </BillingAddress>\n    </Customer>\n  </Customers>\n</BillingStatement>\n  `;return $()(s)}(this.parseData)},computed:{message(){if(this.$props.slots)return this.evaluateSlot(this.$props.slots.text)},class(){if(this.$props.options)return this.$props.options.class||""},style(){if(this.$props.options)return this.$props.options.style||""},shouldShowButton(){return this.parseData.totalDue>0}},methods:{calculateTotalDue(){return this.parseData.balances.years.reduce((t,e)=>{return t+this.calculateTotalForYear(e)},0)},calculateTotalForYear:t=>_.map(e=>t[e]).reduce((t,e)=>t+e,0)}},S=Object(a.a)(T,function(){var t=this.$createElement,e=this._self._c||t;return e("form",{attrs:{action:this.actionAddress,method:"post",target:"_blank"}},[e("input",{attrs:{name:"billStmt",type:"hidden"},domProps:{value:this.xmlData}}),this._v(" "),e("input",{directives:[{name:"show",rawName:"v-show",value:this.shouldShowButton,expression:"this.shouldShowButton"}],staticClass:"button external",style:this.buttonStyle,attrs:{type:"submit"},domProps:{value:this.$props.slots.text}})])},[],!1,null,"3c54944d",null).exports,k={mixins:[o.a],props:["fieldLabel"],data:()=>({showFieldLabel:!1}),created(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()},computed:{value(){const t=this.$props.slots.value,e=this.$props.slots.transforms||[],s=this.$props.slots.nullValue||"";return this.evaluateSlot(t,e,s)},popoverValue(){const t=this.value,e=this.$props.slots.popoverTransforms||[],s=this.$props.slots.popoverNullValue||"";return this.evaluateSlot(t,e,s)},popoverPreText(){let t=this.$props.slots.popoverPreText||"";return this.evaluateSlot(t)},popoverPostText(){let t=this.$props.slots.popoverPostText||"";return this.evaluateSlot(t)},shouldShowValue(){return!1!==this.$props.slots.shouldShowValue},popoverText(){return!0===this.shouldShowValue?this.popoverPreText+" "+this.popoverValue+" "+this.popoverPostText:this.popoverPreText+" "+this.popoverPostText}},methods:{didClickPopoverLink(t){this.$store.commit("setPopoverOpen",!0),this.$store.commit("setPopoverText",this.popoverText)},handleWindowResize(){window.innerWidth>=750?this.showFieldLabel=!1:this.showFieldLabel=!0},evaluateFieldLabel(){return this.showFieldLabel?this.$props.fieldLabel+": ":""}}},C=(s(330),Object(a.a)(k,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v("\n  "+t._s(t.evaluateFieldLabel())+"\n  "),s("a",{staticClass:"popover-link",attrs:{title:t.value+" "+t.popoverValue},on:{click:t.didClickPopoverLink}},[t._v("\n    "+t._s(t.value)+"\n  ")])])},[],!1,null,null,null).exports),F={mixins:[o.a],components:{PopoverLink:C},props:["fields","hasOverlay","tableId","shouldBeBold","totalRowField"],data:()=>({showFieldLabel:!1}),created(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()},computed:{activeFeature(){return this.$store.state.activeFeature},isActive(){return this.activeFeature?this.activeFeature.featureId===this.$props.item._featureId&&this.$props.tableId===this.activeFeature.tableId:void 0},isMobileOrTablet(){return this.$store.state.isMobileOrTablet}},watch:{isActive(t){if(!0===t){const t=this.$el;this.isElementInViewport(t)||t.scrollIntoView()}}},methods:{handleRowMouseover(t){if(!this.isMobileOrTablet&&!this.$props.options.mouseOverDisabled){if(!this.hasOverlay)return;const t=this.item._featureId,e=this.tableId;this.$store.commit("setActiveFeature",{featureId:t,tableId:e})}},handleRowClick(t){if(this.isMobileOrTablet||this.$props.options.mouseOverDisabled){if(console.log("handleRowClick actions are running"),!this.hasOverlay)return;const t=this.item._featureId,e=this.tableId;this.$store.commit("setActiveFeature",{featureId:t,tableId:e})}},handleRowMouseout(t){if(!this.$props.options.mouseOverDisabled){if(!this.hasOverlay)return;this.$store.commit("setActiveFeature",null)}},isElementInViewport(t){const e=t.getBoundingClientRect(),s={top:e.top>=108,left:e.left>=0,bottom:e.bottom<=(window.innerHeight||document.documentElement.clientHeight),right:e.right<=(window.innerWidth||document.documentElement.clientWidth)};return Object.values(s).every(t=>t)},featuresMatch:(t,e)=>t.featureId===e.featureId&&t.tableId===e.tableId,handleWindowResize(){window.innerWidth>=750?this.showFieldLabel=!1:this.showFieldLabel=!0},evaluateFieldLabel(t){return this.showFieldLabel&&this.$props.totalRowField!==t.toLowerCase()?t+": ":""}}},I=(s(332),Object(a.a)(F,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{class:{active:this.isActive},on:{mouseover:t.handleRowMouseover,click:t.handleRowClick,mouseout:t.handleRowMouseout}},t._l(t.fields,function(e){return s("td",{attrs:{item:t.item}},[s("b",{directives:[{name:"show",rawName:"v-show",value:t.shouldBeBold,expression:"shouldBeBold"}]},[e.popoverLink?s("popover-link",{attrs:{slots:e,item:t.item,fieldLabel:e.label}}):t._e(),t._v(" "),e.popoverLink?t._e():s("div",{domProps:{innerHTML:t._s(t.evaluateFieldLabel(e.label)+t.evaluateSlot(e.value,e.transforms,e.nullValue))}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.shouldBeBold,expression:"!shouldBeBold"}]},[e.popoverLink?s("popover-link",{attrs:{slots:e,item:t.item,fieldLabel:e.label}}):t._e(),t._v(" "),e.popoverLink?t._e():s("div",{domProps:{innerHTML:t._s(t.evaluateFieldLabel(e.label)+t.evaluateSlot(e.value,e.transforms,e.nullValue))}})],1)])}),0)},[],!1,null,"8e660b6a",null).exports),D=s(42),R=s.n(D);s(100);const L=["distance","date"];var O={mixins:[o.a],data(){const t=this.options.filters||[];Object.keys(t);let e,s,n={};for(let e=0;e<t.length;e++)n["filter-"+e]=t[e].values[0];return this.options.sort&&(e=this.options.sort.sortFields||[]),{filterSelections:n,searchText:"",sortField:s=e?e[0]:L[0],highestRowRetrieved:this.options.defaultIncrement}},components:{HorizontalTableRow:I,ExternalLink:p},created(){if(this.filters)for(let[t,e]of this.filters.entries()){const s=`filter-${t}`,n=e.values[0]||{};this.filterSelections[s]=n}},mounted(){this.$store.state.horizontalTables&&this.updateTableFilteredData()},watch:{itemsAfterFilters(t){this.$store.state.horizontalTables&&this.updateTableFilteredData()}},computed:{totalRowEnabled(){if(this.$props.options.totalRow)return this.$props.options.totalRow.enabled||!1},totalRowField(){if(this.$props.options.totalRow)return this.$props.options.totalRow.totalField||""},hasData(){if(this.$props.options.dataSources){return this.$props.options.dataSources.every(t=>{const e=this.$store.state.sources[t].targets;this.isEmpty(e);if(this.isEmpty(e))return!!this.$store.state.sources[t].data;{const e=this.$store.state.sources[t].targets,s=Object.values(e);return 0!==s.length&&s.every(t=>"waiting"!==t.status)}})}return!0},shouldShowFilters(){return void 0===this.options.shouldShowFilters||this.options.shouldShowFilters},shouldShowHeaders(){return void 0===this.options.shouldShowHeaders||this.options.shouldShowHeaders},shouldShowExportPDF(){let t=!1;if(this.options.export&&this.options.export.formatButtons){t=Object.keys(this.options.export.formatButtons).includes("pdf")}return t},shouldShowExportCSV(){let t=!1;if(this.options.export&&this.options.export.formatButtons){t=Object.keys(this.options.export.formatButtons).includes("csv")}return t},secondaryStatus(){return this.$store.state.sources[this.options.id].secondaryStatus},shouldShowTable(){let t=!0;return this.$props.options.showOnlyIfData&&0===this.items.length&&(t=!1),t},shouldShowRetrieveButton(){return this.highestRowRetrieved<this.count},leftToRetrieve(){return this.count-this.highestRowRetrieved},nextIncrement(){return this.options.showAllRowsOnFirstClick?this.leftToRetrieve:this.leftToRetrieve<this.options.defaultIncrement?this.leftToRetrieve:this.options.defaultIncrement},highestPageRetrieved(){return this.evaluateSlot(this.slots.highestPageRetrieved)},pageCount(){return this.evaluateSlot(this.slots.pageCount)},totalSize(){return this.evaluateSlot(this.slots.totalSize)},limit(){return this.options.limit},inputClass(){return""===this.searchText?"pvc-search-control-input":"pvc-search-control-input-full"},filters(){return this.options.filters},activeFilters(){return this.filters},fields(){return this.options.fields},hasOverlay(){return!!this.options.mapOverlay},items(){if(this.hasData){const t=this.slots.items;return this.evaluateSlot(t)||[]}return[]},filterByTextFields(){return this.options.filterByText?this.options.filterByText.fields:null},itemsAfterSearch(){const t=this.items,e=this.searchText;if(!e)return t;const s=e.toLowerCase(),n=this.filterByTextFields||[];return 0===n.length?t:t.filter(t=>{const e=n.map(e=>{const s=t.properties;return(s?s[e]:t[e]).toLowerCase()});let o=!1;for(let t of e)t.includes(s)&&(o=!0);return o})},itemsAfterFilters(){if(this.itemsAfterSearch){const t=this.itemsAfterSearch;return this.filterItems(t,this.filters,this.filterSelections)}return[]},itemsAfterSort(){const t=this.itemsAfterFilters,e=this.options.sort;return this.sortItems(t,e)},sortFields(){return this.options.sort.sortFields?this.options.sort.sortFields:L},itemsLimited(){return this.options.limit?this.itemsAfterSort.slice(0,this.options.limit):this.options.defaultIncrement?this.itemsAfterSort.slice(0,this.highestRowRetrieved):this.itemsAfterSort},itemsLimitedSummed(){let t={};for(let e of Object.keys(this.itemsLimited[0])){"number"==typeof this.itemsLimited[0][e]&&(t[e]=0),this.totalRowField&&(t[this.totalRowField]="Total");for(let s of this.itemsLimited)"number"==typeof t[e]&&(t[e]=t[e]+s[e])}return t},count(){return this.$props.options.useApiCount?this.totalSize:this.itemsAfterFilters.length},countText(){return this.$props.options.noCount?"":this.highestRowRetrieved<this.count?`(1 - ${this.count<this.highestRowRetrieved?this.count:this.highestRowRetrieved} of ${this.count})`:`(${this.count})`},shouldShowExternalLink(){return this.options.externalLink.forceShow?this.options.externalLink.forceShow:this.itemsAfterSearch.length>this.limit}},methods:{exportTableToPDF(){const t=[];let e=[],s={};for(let t of this.$props.options.fields)e.push(t.label),s[t.label]=0;for(let e of this.items){let n=[];for(let t of this.$props.options.fields)null===t.value(this.$store.state,e)?n.push(""):n.push(t.value(this.$store.state,e)),null===t.value(this.$store.state,e)||isNaN(t.value(this.$store.state,e))?s[t.label]="":s[t.label]=s[t.label]+parseFloat(t.value(this.$store.state,e));t.push(n)}if(this.$props.options.totalRow.enabled){let e=[];for(let t of this.$props.options.fields)t.label.toLowerCase()===this.$props.options.totalRow.totalField?e.push("Total"):""===s[t.label]?e.push(""):e.push(parseFloat(s[t.label]).toFixed(2));t.push(e)}console.log("tableData:",t);var n=new R.a("p","pt");n.setFontSize(12);let o,i=20;for(let t of this.$props.options.export.introLines)n.text(10,i,this.evaluateSlot(t)),i+=12;n.autoTable(e,t,{startY:100,tableWidth:"wrap"}),o=this.evaluateSlot(this.$props.options.export.file)?this.evaluateSlot(this.$props.options.export.file)+".pdf":"export.pdf",n.save(o)},exportTableToCSV(){const t=[];let e=[],s={};for(let t of this.$props.options.fields)e.push(t.label),s[t.label]=0;for(let e of this.items){let n={};for(let t of this.$props.options.fields)n[t.label]=t.value(this.$store.state,e),isNaN(t.value(this.$store.state,e))?s[t.label]=null:s[t.label]=s[t.label]+parseFloat(t.value(this.$store.state,e));t.push(n)}if(this.$props.options.totalRow.enabled){let e={};for(let t of this.$props.options.fields)t.label.toLowerCase()===this.$props.options.totalRow.totalField?e[t.label]="Total":e[t.label]=s[t.label];t.push(e)}try{var n,o,i,a;if(null==(a=t||null)||!a.length)return null;",","\n",i=Object.keys(a[0]),n="";for(let t of this.$props.options.export.introLines)n+=this.evaluateSlot(t),n+="\n";n+="\n",n+=i.join(","),n+="\n",a.forEach(function(t){o=0,i.forEach(function(e){o>0&&(n+=","),n+=t[e]||"",o++}),n+="\n"});let e,s,r=n;a=null,e=this.evaluateSlot(this.$props.options.export.file)?this.evaluateSlot(this.$props.options.export.file)+".csv":"export.csv",r.match(/^data:text\/csv/i)||(r="data:text/csv;charset=utf-8,"+r),a=encodeURI(r),(s=document.createElement("a")).setAttribute("href",a),s.setAttribute("download",e),s.click()}catch(t){console.error(t)}},showMoreRecords(){this.pageCount?this.itemsAfterFilters.length<this.highestRowRetrieved+this.options.defaultIncrement?this.pageCount>this.highestPageRetrieved?(this.getMoreRecords(),this.compareAndSetHighestRowRetrieved()):this.highestRowRetrieved=this.count:this.options.showAllRowsOnFirstClick?this.highestRowRetrieved=this.count:this.highestRowRetrieved=this.highestRowRetrieved+this.options.defaultIncrement:this.compareAndSetHighestRowRetrieved()},compareAndSetHighestRowRetrieved(){this.options.showAllRowsOnFirstClick?this.highestRowRetrieved=this.count:this.count<this.highestRowRetrieved+this.options.defaultIncrement?this.highestRowRetrieved=this.count:this.highestRowRetrieved=this.highestRowRetrieved+this.options.defaultIncrement},getMoreRecords(){const t=this.options.id,e=this.highestPageRetrieved;this.$controller.getMoreRecords(t,e)},slugifyFilterValue(t){const{direction:e,value:s,unit:n}=t;return[e,s,n].join("-")},deslugifyFilterValue(t){const e=t.split("-"),[s,n,o]=e;return{value:n,unit:o,direction:s}},handleSortValueChange(t){const e=t.target.value;this.sortField=e},handleFilterValueChange(t){console.log("handle filter value change",t);const e=t.target,s=e.value,n=this.deslugifyFilterValue(s),o=e.parentElement.id,i=this.filterSelections,a=Object.assign({},i);a[o]=n,this.filterSelections=a},values(t){return this.options.fields.map(t=>t.sourceField).map(e=>t[e])},handleFilterFormKeyup(t){const e=t.target.value;this.searchText=e},handleFilterFormX(t){t.target[0].value="",this.searchText=""},filterItems(t,e,s){let n=t.slice();if(e)for(let t=0;t<e.length;t++){const o=s["filter-"+t],{type:i,getValue:a}=e[t],{unit:r,value:l}=o,p=o.direction||"subtract";switch(i){case"data":break;case"time":let t,e,s,o;switch(console.log("TIME FILTER direction",p,"value:",l,"unit:",r),r){case"hours":s=y.subHours,o=y.addHours;break;case"days":s=y.subDays,o=y.addDays;break;case"weeks":s=y.subWeeks,o=y.addWeeks;break;case"months":s=y.subMonths,o=y.addMonths;break;case"years":s=y.subYears,o=y.addYears}if("subtract"===p)e=new Date,t=s(e,l),console.log("max:",e,"min",t);else{if("add"!==p)throw`Invalid time direction: ${p}`;e=new Date,t=o(e,l)}n=n.filter(s=>{const n=a(s);return Object(y.isWithinRange)(n,t,e)});break;default:throw`Unhandled filter type: ${i}`}}return n},sortItems(t,e){if(!e)return t;const s=e.compare||this.defaultSortFn;return t.sort(s)},defaultSortFn(t,e){const s=this.options.sort,n=s.getValue,o=this.sortField;let i;if("function"==typeof s.order){i=(0,s.order)(o)}else i=s.order;console.log("sortField",o,"order",i);const a=n(t,o),r=n(e,o);let l;if(l=null===a?"desc"===i?-1:1:null===r?"desc"===i?1:-1:a<r?-1:r<a?1:0,i)if("desc"===i)l*=-1;else if("asc"!==i)throw`Unknown sort order: ${i}`;return l},updateTableFilteredData(){const{tableId:t}=this.options;this.$store.commit("setHorizontalTableFilteredData",{tableId:t,data:this.itemsAfterFilters})},isEmpty(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}}},A=(s(334),Object(a.a)(O,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pvc-horizontal-table"},[t.shouldShowTable?s("div",[!1!==t.shouldShowFilters?s("div",{staticClass:"pvc-horizontal-table-controls"},[t.options.filters?s("div",{staticClass:"vertically-centered"},t._l(t.filters,function(e,n){return s("div",{staticClass:"inline-block",attrs:{id:"filter-"+n}},[s("div",{staticClass:"vertically-centered pvc-select-text"},[t._v(t._s(e.label))]),t._v(" "),s("select",{staticClass:"pvc-select",on:{change:t.handleFilterValueChange}},[s("optgroup",t._l(e.values,function(e){return s("option",{staticClass:"pvc-select-option",domProps:{value:t.slugifyFilterValue(e)}},[t._v("\n                "+t._s(e.label)+"\n              ")])}),0)])])}),0):t._e(),t._v(" "),t.options.sort&&t.options.sort.select?s("div",{staticClass:"vertically-centered"},[s("div",{staticClass:"vertically-centered pvc-select-text"},[t._v("Sort by")]),t._v(" "),s("select",{staticClass:"pvc-select",on:{change:t.handleSortValueChange}},[s("optgroup",t._l(t.sortFields,function(e){return s("option",{staticClass:"pvc-select-option",domProps:{value:e}},[t._v("\n              "+t._s(e)+"\n            ")])}),0)])]):t._e(),t._v(" "),t.filterByTextFields?s("div",{staticClass:"vertically-centered"},[s("div",{staticClass:"pvc-select-text inline-block"},[t._v("\n          "+t._s(t.options.filterByText.label)+"\n        ")]),t._v(" "),s("form",{staticClass:"inline-block filter-by-text-form",on:{submit:function(e){return e.preventDefault(),t.handleFilterFormX(e)}}},[s("input",{class:this.inputClass,attrs:{id:"theInput"},on:{keyup:t.handleFilterFormKeyup}}),t._v(" "),""!=this.searchText?s("button",{staticClass:"pvc-search-control-button"},[s("font-awesome-icon",{staticClass:"fa-lg",attrs:{icon:"times"}})],1):t._e()])]):t._e()]):t._e(),t._v(" "),s("div",{class:{"pvc-horizontal-table-body":!0,"no-padding":!t.shouldShowFilters}},[t.slots.title?s("div",[s("h4",{staticStyle:{display:"inline-block"}},[t._v("\n          "+t._s(t.evaluateSlot(t.slots.title))+" "+t._s(t.countText)+"\n        ")]),t._v(" "),s("h5",{staticStyle:{display:"inline-block",color:"gray"}},[t._v("\n          "+t._s(t.evaluateSlot(t.slots.subtitle))+"\n        ")]),t._v(" "),this.shouldShowExportCSV?s("a",{staticClass:"button pvc-export-data-button",on:{click:this.exportTableToCSV}},[t._v("\n          "+t._s(this.options.export.formatButtons.csv)+"\n        ")]):t._e(),t._v(" "),this.shouldShowExportPDF?s("a",{staticClass:"button pvc-export-data-button",on:{click:this.exportTableToPDF}},[t._v("\n          "+t._s(this.options.export.formatButtons.pdf)+"\n        ")]):t._e()]):t._e(),t._v(" "),s("table",{staticClass:"stack",attrs:{role:"grid"}},[!1!==t.shouldShowHeaders?s("thead",[s("tr",t._l(t.fields,function(e){return s("th",[t._v(t._s(t.evaluateSlot(e.label)))])}),0)]):t._e(),t._v(" "),s("tbody",[t._l(t.itemsLimited,function(e){return s("horizontal-table-row",{key:e._featureId,attrs:{item:e,fields:t.fields,hasOverlay:t.hasOverlay,tableId:t.options.tableId,options:t.options}})}),t._v(" "),t.totalRowEnabled?s("horizontal-table-row",{attrs:{shouldBeBold:!0,item:this.itemsLimitedSummed,fields:t.fields,tableId:t.options.tableId,totalRowField:this.totalRowField}}):t._e()],2)]),t._v(" "),t.options.externalLink&&t.shouldShowExternalLink?s("external-link",{attrs:{options:t.options.externalLink,count:this.count,limit:this.limit,type:"horizontal-table"}}):t._e()],1),t._v(" "),this.shouldShowRetrieveButton?s("a",{staticClass:"button center-button",on:{click:this.showMoreRecords}},[t._v("\n      Retrieve "+t._s(this.nextIncrement)+" More "+t._s(1===this.nextIncrement?"Record":"Records")+"\n      "),s("span",{directives:[{name:"show",rawName:"v-show",value:"waiting"===t.secondaryStatus,expression:"secondaryStatus === 'waiting'"}],staticClass:"loading"},[s("font-awesome-icon",{staticClass:"fa-lg",attrs:{icon:"spinner"}})],1)]):t._e()]):t._e()])},[],!1,null,"03e38da0",null).exports),P=s(317),E={mixins:[o.a],components:{ExternalLink:p},computed:{styles(){return this.$props.options.styles?this.$props.options.styles:""},shouldShowTable(){this.hasData;if(this.item){if(this.item.activeTable){return this.item.activeTable===this.options.id}return!0}return!0},hasData(){if(this.$props.options.dataSources){return this.$props.options.dataSources.every(t=>{if(this.$config.dataSources[t].targets){const e=this.$store.state.sources[t].targets,s=Object.values(e);return 0!==s.length&&s.every(t=>"waiting"!==t.status)}return!!this.$store.state.sources[t].data})}return!0}}},M=(s(338),Object(a.a)(E,function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.shouldShowTable?s("div",{staticClass:"table-container"},[t.slots.title?s("h4",{staticClass:"table-title"},[t._v("\n    "+t._s(t.evaluateSlot(t.slots.title))+"\n  ")]):t._e(),t._v(" "),s("table",[s("tbody",t._l(t.slots.fields,function(e){return s("tr",[s("th",{style:t.styles.th||"",domProps:{innerHTML:t._s(t.evaluateSlot(e.label))}}),t._v(" "),t.hasData?s("td",{domProps:{innerHTML:t._s(t.evaluateSlot(e.value,e.transforms,t.nullValue))}}):t._e(),t._v(" "),t.hasData?t._e():s("td",{domProps:{innerHTML:t._s("")}})])}),0)]),t._v(" "),t.options&&t.options.externalLink?s("external-link",{attrs:{options:t.options.externalLink,type:"vertical-table"}}):t._e()],1):t._e()},[],!1,null,"488b0044",null).exports),B={mixins:[o.a],data:()=>({mouseover:null}),computed:{items(){return this.evaluateSlot(this.slots.items)}},methods:{isActive(t){return this.$store.state.map.imageOverlay===this.keyForItem(t)},keyForItem(t){return(0,this.options.getKey)(t)},handleClick(t){t.preventDefault();const e=this.$store.state.map.imageOverlay,s=t.target.getAttribute("data-key");e===s?this.$store.commit("setImageOverlay",null):this.$store.commit("setImageOverlay",s)},handleMouseover(t){this.mouseover=t},handleMouseout(){this.mouseover=null},isMousedover(t){return this.keyForItem(t)===this.mouseover}}},z=(s(340),Object(a.a)(B,function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.items.length?s("div",[s("div",{staticClass:"container"},[t.slots.title?s("h4",[t._v("\n      "+t._s(t.evaluateSlot(t.slots.title))+"\n    ")]):t._e(),t._v(" "),t._l(t.items,function(e){return s("a",{staticClass:"button overlay-toggle",class:{active:t.isActive(e),mouseover:t.isMousedover(e)},attrs:{href:"#","data-key":t.keyForItem(e)},on:{click:t.handleClick,mouseover:function(s){t.handleMouseover(t.keyForItem(e))},mouseout:t.handleMouseout}},[t._v("\n      "+t._s(t.keyForItem(e))+"\n    ")])})],2)]):t._e()},[],!1,null,"372334fb",null).exports),j={mixins:[o.a],computed:{additionalTags(){return this.$props.slots.additionalTags||[]},message(){let t="";for(let e of this.additionalTags)t=t+"<"+e+">";t+=this.evaluateSlot(this.$props.slots.text,this.$props.slots.transforms);for(let e of this.additionalTags)t=t+"</"+e+">";return t},style(){if(this.$props.options)return this.$props.options.style||""},vshowComputed(){return!this.$props.slots||!1!==this.evaluateSlot(this.$props.slots.vshowProp)}}},H=Object(a.a)(j,function(){var t=this.$createElement;return(this._self._c||t)("p",{directives:[{name:"show",rawName:"v-show",value:this.vshowComputed,expression:"this.vshowComputed"}],style:this.style,domProps:{innerHTML:this._s(this.message)}})},[],!1,null,"368d1406",null).exports,G={mixins:[o.a],computed:{additionalTags(){return this.$props.slots.additionalTags||[]},message(){let t="";for(let e of this.additionalTags)t=t+"<"+e+">";t+=this.evaluateSlot(this.$props.slots.text,this.$props.slots.transforms);for(let e of this.additionalTags)t=t+"</"+e+">";return t},style(){if(this.$props.options)return this.$props.options.style||""}}},V=Object(a.a)(G,function(){var t=this.$createElement;return(this._self._c||t)("span",{style:this.style,domProps:{innerHTML:this._s(this.message)}})},[],!1,null,"09c039bc",null).exports,N={mixins:[o.a]},W=(s(342),Object(a.a)(N,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[t.evaluateSlot(t.slots.relatedAddresses)?s("ul",t._l(t.evaluateSlot(t.slots.relatedAddresses),function(e){return s("li",[s("a",{attrs:{href:"#/"+encodeURIComponent(e.properties.street_address)}},[t._v("\n        "+t._s(e.properties.street_address)+"\n      ")])])}),0):s("p",{staticClass:"message-p"},[t._v("\n    No related addresses were found for this address.\n  ")])])},[],!1,null,"12f29717",null).exports),K={name:"TabGroup",mixins:[o.a],components:{},beforeCreate(){this.$options.components.TopicComponentGroup=ot},data(){this.evaluateSlot(this.slots.items);return{activeItem:this.activeItemFromState,activeMapreg:this.activeMapregFromState,activeAddress:this.activeAddressFromState}},mounted(){this.$data.activeItem=this.activeItemFromState,this.$data.activeMapreg=this.activeMapregFromState,this.$data.activeAddress=this.activeAddressFromState},computed:{items(){const t=this.evaluateSlot(this.slots.items),e=this.options.sort;let s=t;return e&&(s=e(t)),s},comps(){return this.options.components},activeItemFromState(){return this.$store.state.parcels.dor.activeParcel},activeMapregFromState(){return this.$store.state.parcels.dor.activeMapreg},activeAddressFromState(){return this.$store.state.parcels.dor.activeAddress}},watch:{items(t){const e=t[0],s=this.keyForItem(e);this.activeItem=s;const n=this.titleForItem(e);this.activeMapreg=n;const o=this.addressForItem(e);this.activeAddress=o}},methods:{clickedItem(t){this.$data.activeItem=this.keyForItem(t),this.$data.activeMapreg=this.titleForItem(t),this.$data.activeAddress=this.addressForItem(t);const e={parcelLayer:"dor",activeParcel:this.$data.activeItem,activeMapreg:this.$data.activeMapreg,activeAddress:this.$data.activeAddress};this.$store.commit("setActiveParcel",e)},keyForItem(t){try{return this.options.getKey(t)}catch(t){return null}},titleForItem(t){try{return this.options.getTitle(t)}catch(t){return null}},addressForItem(t){try{return this.options.getAddress(t)}catch(t){return null}},itemIsActive(t){return this.activeItem===this.keyForItem(t)}}},Y=(s(344),Object(a.a)(K,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"tabs",attrs:{"data-tabs":""}},t._l(t.items,function(e){return s("li",{key:t.keyForItem(e),staticClass:"tabs-title",class:{"is-active":t.itemIsActive(e)}},[s("a",{attrs:{href:"#parcel-"+t.keyForItem(e)},on:{click:function(s){return s.preventDefault(),t.clickedItem(e)}}},[t._v("\n        "+t._s(t.titleForItem(e))+"\n      ")])])}),0),t._v(" "),s("div",{staticClass:"tabs-content"},t._l(t.items,function(e){return s("div",{staticClass:"tabs-panel",class:{"is-active":t.itemIsActive(e)},attrs:{id:"parcel-"+t.keyForItem(e)}},[s("topic-component-group",{attrs:{"topic-components":t.comps,item:e}})],1)}),0)])},[],!1,null,"bcb88d70",null).exports),Q={mixins:[o.a],components:{HorizontalTable:A},data(){return{tableGroupData:{tableGroupId:this.options.horizontalTableGroupId,activeTable:null,activeTableId:null}}},created(){if(console.log("horizontalTableGroup created is starting, this.tableGroupData:",this.tableGroupData),this.options.filters){console.log("horizontalTableGroup created, if this.options.filters is running:",this.options.filters,this.options.filters.entries());for(let t of this.options.filters){console.log("for loop, this.options.filters:",this.options.filters[0]),console.log("for loop, filter:",t);const e=t.values[0].value||{};console.log("for loop, defaultTableName:",e),this.tableGroupData.activeTable=e;for(let t of this.options.tables)t.options.id===e&&(this.tableGroupData.activeTableId=t._id);console.log("horizontalTableGroup this.tableGroupData:",this.tableGroupData),this.$store.commit("setHorizontalTableGroupActiveTable",this.tableGroupData)}console.log("horizontalTableGroup created, if this.options.filters is ending")}if(this.options.alternate){console.log("horizontalTableGroup created, if this.options.alternate - mainTable",this.options.alternate.mainTable,this.altMainTable,"dependentTable",this.options.alternate.dependentTable,this.altDepTable);const t=this.$store.state.sources;t[this.altDepTable.dataSource].data&&!t[this.altMainTable.dataSource].data?(this.activeTable=this.altDepTable.id,this.activeTableId="aaa",this.$store.commit("setHorizontalTableGroupActiveTable",this.tableGroupData)):t[this.altMainTable.dataSource].data&&(this.activeTable=this.altMainTable.id,this.activeTableId="bbb",this.$store.commit("setHorizontalTableGroupActiveTable",this.tableGroupData))}this.options.showBoth&&console.log("tableGroup showBoth")},computed:{altMainTable(){return this.options.alternate?this.options.alternate.mainTable:null},altDepTable(){return this.options.alternate?this.options.alternate.dependentTable:null}},methods:{shouldShowTable(t){let e=!0;return this.tableGroupData.activeTable!=t&&(e=!1),e},slugifyFilterValue(t){const{direction:e,value:s,unit:n}=t;return[e,s,n].join("-")},deslugifyFilterValue(t){const e=t.split("-"),[s,n,o]=e;return{value:n,unit:o,direction:s}},handleFilterValueChange(t){console.log("handle activeTable value change",t);const e=t.target.value,s=this.deslugifyFilterValue(e).value;this.tableGroupData.activeTable=s;for(let t of this.options.tables)console.log("tableName:",s,"comp.options.id:",t.options.id,"comp:",t),t.options.id===s&&(this.tableGroupData.activeTableId=t._id);console.log("handleFilterValueChange, this.tableGroupData:",this.tableGroupData),this.$store.commit("setHorizontalTableGroupActiveTable",this.tableGroupData)}}},U=(s(346),Object(a.a)(Q,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[this.$props.options.filters?s("div",{staticClass:"mb-horizontal-table-controls"},t._l(this.$props.options.filters,function(e,n){return s("div",{staticClass:"inline-block",attrs:{id:"filter-"+n}},[s("div",{staticClass:"vertically-centered mb-select-text"},[t._v(t._s(e.label))]),t._v(" "),s("select",{staticClass:"mb-select",on:{change:t.handleFilterValueChange}},[s("optgroup",t._l(e.values,function(e){return s("option",{staticClass:"mb-select-option",domProps:{value:t.slugifyFilterValue(e)}},[t._v("\n            "+t._s(e.label)+"\n          ")])}),0)])])}),0):t._e(),t._v(" "),t._l(t.options.tables,function(e){return s("horizontal-table",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowTable(e.options.id),expression:"shouldShowTable(table.options.id)"}],attrs:{item:t.tableGroupData,options:e.options,slots:e.slots}})})],2)},[],!1,null,"782744a0",null).exports),X={name:"BadgeCustom",mixins:[o.a],components:{ExternalLink:p},beforeCreate(){this.$options.components.TopicComponentGroup=ot},computed:{style(){const t=(this.options||{}).titleBackground;let e;return{background:e=t?"function"==typeof t?t(this.$store.state):t:"#444"}}}},J=(s(348),Object(a.a)(X,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"center"},[s("div",{staticClass:"mb-badge panel"},[s("div",{staticClass:"mb-badge-header",style:t.style},[t._v("\n      "+t._s(t.evaluateSlot(t.slots.title))+"\n    ")]),t._v(" "),s("topic-component-group",{attrs:{"topic-components":t.options.components,item:t.item}})],1),t._v(" "),t.options&&t.options.externalLink?s("external-link",{attrs:{options:t.options.externalLink,type:"badge-custom"}}):t._e()],1)},[],!1,null,"b91736f6",null).exports),Z=s(318),q={mixins:[o.a],name:"TopicSet",components:{Topic:Z.default},mounted(){null!==this.$store.state.activeTopic&&""!==this.$store.state.activeTopic||this.setDefaultTopicActive()},methods:{setDefaultTopicActive(){this.$props.options.defaultTopic&&(this.$store.state.activeTopic=this.$props.options.defaultTopic)}}},tt=Object(a.a)(q,function(){var t=this.$createElement,e=this._self._c||t;return e("div",this._l(this.$config.topics,function(t){return e("topic",{key:t.key,attrs:{topicKey:t.key}})}),1)},[],!1,null,null,null).exports,et=s(423),st={name:"TopicComponentGroup",props:["topicComponents","item","filterData"],components:{Badge:h,ButtonComp:u,Callout:v,CollectionSummary:b,Division:x,ePayForm:S,ExternalLink:p,HorizontalTable:A,Image_:P.a,VerticalTable:M,OverlayToggleGroup:z,Paragraph:H,SpanComp:V,List:W,HorizontalTableGroup:U,PopoverLink:C,Popover:et.default},beforeCreate(){this.$options.components.TabGroup=Y,this.$options.components.BadgeCustom=J,this.$options.components.Topic=Z.default,this.$options.components.TopicSet=tt,this.$options.components.AnyHeader=r},data:()=>({key:Object(n.a)()}),methods:{getCompKey:(t,e)=>`topic-comp-${t}-${e}`}},nt=(s(352),Object(a.a)(st,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.topicComponents,function(e,n){return s(e.type,{key:t.getCompKey(t.key,n),tag:"component",staticClass:"topic-component",attrs:{slots:e.slots,options:e.options,item:t.item}})}),1)},[],!1,null,"43e719e6",null)),ot=e.default=nt.exports},317:function(t,e,s){"use strict";var n={mixins:[s(255).a]},o=(s(336),s(8)),i=Object(o.a)(n,function(){var t=this.$createElement;return(this._self._c||t)("img",{attrs:{src:this.slots.source}})},[],!1,null,"2bd84bf3",null);e.a=i.exports},318:function(t,e,s){"use strict";s.r(e);var n=s(293),o={name:"Topic",props:["topicKey"],components:{},beforeCreate(){this.$options.components.TopicComponentGroup=n.default},computed:{topic(){const t=this.$props.topicKey,e=this.$config.topics.filter(t=>t.key===this.$props.topicKey);if(1!==e.length)throw`Could not get single config object for topic '${t}'.`;return e[0]},icon(){return this.topic.icon},isActive(){const t=this.topic.key;return this.$store.state.activeTopic===t},shouldShowHeader(){return this.$config.topics.length>1},dataSources(){return this.topic.dataSources||[]},hasData(){return this.dataSources.every(t=>{if(this.$config.dataSources[t].targets){const e=this.$store.state.sources[t].targets,s=Object.values(e);return 0!==s.length&&s.every(t=>"waiting"!==t.status)}return!!this.$store.state.sources[t].data})},shouldShowBody(){const t="success"===this.status,e=this.hasData;return t&&e&&this.isActive},shouldShowTopic(){return!this.topic.showTopicOnlyIfDataExists||(!!this.showTopicBasedOnOtherData||this.showTopicOnlyIfDataExists)},shouldShowError(){const t=this.isActive&&("error"===this.status||"waiting"!==this.status&&!this.hasData);return t&&console.log("BINGO BINGO BINGO:",this.topicKey,"shouldShowError:",t,"status:",this.status,"hasData:",this.hasData),t},errorMessage(){return this.topic.errorMessage?this.topic.errorMessage(this.$store.state):"Could not locate records for that address."},status:{cache:!1,get(){const t=this.topic.dataSources||[];if(0===t.length)return"success";let e;const s=t.map(t=>{if(this.$config.dataSources[t].targets){const e=this.$store.state.sources[t].targets,s=Object.values(e);if(0===s.length)return;return s.map(t=>t.status)}return[this.$store.state.sources[t].status]});let n=[];for(let t of s)if(t)for(let e of t)n.push(e);return e=n.includes("waiting")?"waiting":n.includes("error")?"error":"success"}},showTopicBasedOnOtherData(){if(!this.topic.showTopicBasedOnOtherData)return!1;const t=this.topic.showTopicBasedOnOtherData.requiredData;if(!this.checkForData(t))return!1;const e=Object.keys(this.topic.showTopicBasedOnOtherData.otherData);let s=[];for(let t of e){const e=this.topic.showTopicBasedOnOtherData.otherData[t],n=Object.keys(e);for(let o of n)this.$store.state.sources[t][o]===e[o]?s.push(!0):s.push(!1)}return!s.includes(!1)},showTopicOnlyIfDataExists(){return this.checkForData(this.topic.showTopicOnlyIfDataExists)}},methods:{checkForData(t){const e=Object.keys(t);let s=!0;for(let n of e){const e=t[n].pathToDataArray,o=t[n].minDataLength;let i;if(!this.$store.state.sources[n].data)return!1;e?1===e.length&&(i=this.$store.state.sources[n].data[e[0]]):i=this.$store.state.sources[n].data,i.length<o&&(s=!1)}return s},configForBasemap(t){return this.$config.map.basemaps[t]},handleTopicHeaderClick(t){const e=this.$props.topicKey;let s;e!==this.$store.state.activeTopic&&(s=e),this.$controller.handleTopicHeaderClick(s)}}},i=(s(350),s(8)),a=Object(i.a)(o,function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.shouldShowTopic?s("div",[t.shouldShowHeader?s("a",{staticClass:"topic-header",attrs:{href:"#","data-topic-key":t.topicKey},on:{click:function(e){return e.preventDefault(),t.handleTopicHeaderClick(e)}}},[s("div",{staticClass:"topic-header-content"},[s("font-awesome-icon",{attrs:{icon:t.icon}}),t._v(" "),s("div",{staticClass:"topic-header-label-holder"},[t._v("\n        "+t._s(t.topic.label)+"\n      ")])],1),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"waiting"===t.status,expression:"status === 'waiting'"}],staticClass:"loading"},[s("font-awesome-icon",{staticClass:"fa-lg spin",attrs:{icon:"spinner"}})],1)]):t._e(),t._v(" "),s("transition",{attrs:{name:"topic-body"}},[t.shouldShowBody?s("div",{staticClass:"topic-body",attrs:{"data-topic-key":t.topicKey}},[s("topic-component-group",{attrs:{"topic-components":t.topic.components}})],1):t._e()]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowError,expression:"shouldShowError"}],staticClass:"topic-body",domProps:{innerHTML:t._s(this.errorMessage)}})],1):t._e()},[],!1,null,"511f037c",null);e.default=a.exports},324:function(t,e,s){"use strict";var n=s(265);s.n(n).a},325:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.external-link[data-v-6946008e] {\r\n  padding-top: 5px;\n}\r\n\r\n",""])},326:function(t,e,s){"use strict";var n=s(266);s.n(n).a},327:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.mb-badge[data-v-7881f935] {\n  /*width: 300px;*/\n  padding: 0;\n  margin: 0 auto;\n  margin-bottom: inherit;\n}\n@media (max-width: 640px) {\n.mb-badge[data-v-7881f935] {\n    width: 100%;\n}\n}\n\n/*REVIEW this should use foundation classes*/\n@media (min-width: 640px) {\n.mb-badge[data-v-7881f935] {\n    width: 325px;\n}\n}\n.mb-badge-header[data-v-7881f935] {\n  color: #fff;\n  font-weight: bold;\n  text-align: center;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n.mb-badge-body[data-v-7881f935] {\n  padding: 12px;\n}\n.mb-badge-body > h1[data-v-7881f935] {\n  margin: 0;\n  margin-bottom: 5px;\n}\n",""])},328:function(t,e,s){"use strict";var n=s(267);s.n(n).a},329:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.wrapper[data-v-e45772ae] {\n}\n.callout[data-v-e45772ae] {\r\n  margin-top: 1rem;\r\n  position: inherit;\r\n  height: auto;\n}\r\n\r\n",""])},330:function(t,e,s){"use strict";var n=s(268);s.n(n).a},331:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.popover-link {\n  border-bottom: 1px dotted;\n  font-weight: bold;\n  /* color: #444; */\n  color: #2176d2;\n}\n",""])},332:function(t,e,s){"use strict";var n=s(269);s.n(n).a},333:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.active[data-v-8e660b6a] {\n  background: #F3D661;\n}\ntd[data-v-8e660b6a] {\n  font-size: 15px;\n  text-align: left;\n}\n",""])},334:function(t,e,s){"use strict";var n=s(270);s.n(n).a},335:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,'\n.inline-block[data-v-03e38da0] {\n  display: inline-block;\n}\n.vertically-centered[data-v-03e38da0] {\n  display: inline-block;\n  vertical-align: middle;\n}\n.pvc-horizontal-table[data-v-03e38da0] {\n  margin-bottom: 10px !important;\n}\n.pvc-horizontal-table-controls[data-v-03e38da0] {\n  text-align: center;\n  vertical-align: middle;\n  margin-bottom: 10px;\n}\n\n/* dropdown filters */\n.pvc-select-text[data-v-03e38da0] {\n  font-size: 16px;\n  padding-right: 5px;\n  padding-left: 5px;\n}\n.pvc-select[data-v-03e38da0] {\n  width: auto;\n  height: 40px;\n  vertical-align: middle;\n  /*padding-right: 20px;*/\n}\n.pvc-select-option[data-v-03e38da0] {\n  display: inline-block;\n  padding-right: 100px;\n  margin-right: 100px;\n}\n\n/* input filters using text */\n.pvc-search-control-input[data-v-03e38da0] {\n  height: 40px !important;\n  line-height: 48px;\n  padding: 8px;\n  font-size: 16px;\n  width: 300px;\n  /*margin-left: 10px;*/\n}\n\n/*REVIEW this repeats a lot of .pvc-search-control-input. can it be refactored?*/\n.pvc-search-control-input-full[data-v-03e38da0] {\n  height: 40px !important;\n  line-height: 48px;\n  padding: 8px;\n  font-size: 16px;\n  width: 260px;\n}\n.pvc-search-control-button[data-v-03e38da0] {\n  width: 40px;\n  background: #ccc;\n  line-height: 40px;\n  float: right;\n}\n.pvc-export-data-button[data-v-03e38da0] {\n  float: right;\n  vertical-align: baseline;\n  display: inline-block;\n  margin-left: 5px;\n  margin-right: 5px;\n  margin-bottom: 5px;\n}\n.group[data-v-03e38da0]:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.pvc-horizontal-table-body[data-v-03e38da0] {\n  padding-top: 1rem;\n  padding-bottom: 0.35rem;\n}\n.no-padding[data-v-03e38da0] {\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.center-button[data-v-03e38da0] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.loading[data-v-03e38da0] {\n  float: right;\n}\n.filter-by-text-form[data-v-03e38da0] {\n  border: 2px solid #0f4d90;\n}\ntable[data-v-03e38da0] {\n  /* table-layout: fixed; */\n  margin: 0;\n}\n.external-link[data-v-03e38da0] {\n  padding-top: 5px;\n}\n',""])},336:function(t,e,s){"use strict";var n=s(271);s.n(n).a},337:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\nimg[data-v-2bd84bf3] {\n  display: block;\n  margin: 0 auto;\n}\n",""])},338:function(t,e,s){"use strict";var n=s(272);s.n(n).a},339:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\ntable[data-v-488b0044] {\n  margin: 0;\n}\nth[data-v-488b0044], td[data-v-488b0044] {\n  font-size: 15px;\n  text-align: left;\n}\nth[data-v-488b0044] {\n  width: 30%;\n}\n.external-link[data-v-488b0044] {\n  padding-top: 5px;\n}\n.table-title[data-v-488b0044] {\n  /*too much*/\n  /*margin-top: 1rem;*/\n}\n.table-container[data-v-488b0044] {\n  /*this was too much padding for the parcel table, taking out for now*/\n  /*padding-top: 1rem;*/\n  margin-bottom: 10px !important;\n}\n",""])},340:function(t,e,s){"use strict";var n=s(273);s.n(n).a},341:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.container[data-v-372334fb] {\n  margin-bottom: 30px;\n}\n.button[data-v-372334fb] {\n  margin-right: 10px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n}\n.overlay-toggle[data-v-372334fb] {\n  border: 1px solid #f99300 !important;\n  color: #f99300 !important;\n  background: #fff !important;\n}\n.overlay-toggle.mouseover[data-v-372334fb] {\n  background: #444 !important;\n  color: white !important;\n}\n.overlay-toggle.active[data-v-372334fb] {\n  background: #f99300 !important;\n  color: #fff !important;\n}\n",""])},342:function(t,e,s){"use strict";var n=s(274);s.n(n).a},343:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.list[data-v-12f29717] {\r\n  position: inherit;\r\n  margin-bottom: 0px !important;\n}\nul[data-v-12f29717] {\r\n  list-style: none;\r\n  padding-left: 0;\r\n  margin-left: 0;\n}\n.message-p[data-v-12f29717] {\r\n  margin-bottom: 0px;\n}\r\n\r\n/*.topic-body {\r\n  margin-bottom: 0px;\r\n}*/\r\n\r\n",""])},344:function(t,e,s){"use strict";var n=s(275);s.n(n).a},345:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.tabs-panel[data-v-bcb88d70] {\n  padding: 20px;\n  padding-bottom: 0px;\n}\n\n/*recreate phila patterns tab styles*/\n.tabs-title a[data-v-bcb88d70] {\n  border-left: 5px solid #fff;\n}\n.tabs-title.is-active a[data-v-bcb88d70] {\n  border-left: 5px solid #f99300;\n  /*when you first load the page, the active tab doesn't turn gray for some\n  reason. forcing it here.*/\n  background: #f0f0f0;\n}\n.tabs-title a[data-v-bcb88d70]:hover {\n  border-left: 5px solid #f99300;\n  background: #f0f0f0;\n}\n",""])},346:function(t,e,s){"use strict";var n=s(276);s.n(n).a},347:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.tabs-panel[data-v-782744a0] {\n  padding: 20px;\n}\n.inline-block[data-v-782744a0] {\n  display: inline-block;\n}\n.vertically-centered[data-v-782744a0] {\n  display: inline-block;\n  vertical-align: middle;\n}\n.mb-horizontal-table-controls[data-v-782744a0] {\n  text-align: center;\n  vertical-align: middle;\n  margin-bottom: 10px;\n}\n\n/* dropdown filters */\n.mb-select-text[data-v-782744a0] {\n  font-size: 16px;\n  padding-right: 5px;\n  padding-left: 5px;\n}\n.mb-select[data-v-782744a0] {\n  width: auto;\n  height: 40px;\n  vertical-align: middle;\n  /*padding-right: 20px;*/\n}\n.mb-select-option[data-v-782744a0] {\n  display: inline-block;\n  padding-right: 100px;\n  margin-right: 100px;\n}\n",""])},348:function(t,e,s){"use strict";var n=s(277);s.n(n).a},349:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.mb-badge[data-v-b91736f6] {\n  /*width: 300px;*/\n  padding: 0;\n  margin: 0 auto;\n  /* margin-bottom: inherit; */\n  margin-bottom: 10px !important;\n}\n@media (max-width: 640px) {\n.mb-badge[data-v-b91736f6] {\n    width: 100%;\n}\n}\n\n/*REVIEW this should use foundation classes*/\n@media (min-width: 640px) {\n.mb-badge[data-v-b91736f6] {\n    width: 325px;\n}\n}\n.mb-badge-header[data-v-b91736f6] {\n  color: #fff;\n  font-weight: bold;\n  text-align: center;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n.mb-badge-body[data-v-b91736f6] {\n  padding: 12px;\n}\n.mb-badge-body > h1[data-v-b91736f6] {\n  margin: 0;\n  margin-bottom: 5px;\n}\n.external-link[data-v-b91736f6] {\n  padding-top: 5px;\n}\n\n",""])},350:function(t,e,s){"use strict";var n=s(278);s.n(n).a},351:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*REVIEW these aren't prefixed `mb-`because they're scoped, but it feels\ninconsistent?*/\n.topic-header[data-v-511f037c] {\n  background: #f5f5f5;\n  border: 1px solid #ddd;\n  display: block;\n  font-size: 18px;\n  font-weight: normal;\n  min-height: 70px;\n  line-height: 25px;\n  padding: 10px;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n  margin-bottom: 8px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-items: center;\n  justify-content: space-between;\n}\n.topic-header[data-v-511f037c]:hover {\n  background: #fff;\n  color: inherit;\n}\n.topic-header-content[data-v-511f037c] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.topic-header-icon[data-v-511f037c] {\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.topic-header-label-holder[data-v-511f037c] {\n  margin-left: 15px;\n}\n.topic-body[data-v-511f037c] {\n  padding: 5px;\n  margin-bottom: 10px;\n}\n.topic-body-enter-active[data-v-511f037c], .topic-body-leave-active[data-v-511f037c] {\n  transition: opacity 0.18s;\n}\n.topic-body-enter[data-v-511f037c], .topic-body-leave-to[data-v-511f037c] {\n  opacity: 0;\n}\n",""])},352:function(t,e,s){"use strict";var n=s(279);s.n(n).a},353:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.topic-component[data-v-43e719e6] {\n  /* margin-bottom: 10px !important; */\n}\n",""])},354:function(t,e,s){"use strict";var n=s(280);s.n(n).a},355:function(t,e,s){(t.exports=s(9)(!1)).push([t.i,"\n.pl-alert {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  /* height: 100%; */\n  /* height: 300px; */\n  width: 100%;\n  background: rgba(68, 68, 68, 0.95);\n  color: #fff;\n  z-index: 10000;\n  font-size: 1.25em;\n  margin: 0 auto;\n  padding: 1em;\n  overflow-y: auto;\n}\n.pl-alert-body {\n  width: 75%;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 0 auto;\n  margin-top: 50px;\n}\n.pl-alert-close-button {\n  position: fixed;\n  right: 40px;\n  /* float: right; */\n  cursor: pointer;\n}\n.pl-alert a {\n  color: #a5c0e4 !important;\n}\n\n",""])},423:function(t,e,s){"use strict";s.r(e);var n=s(255),o=s(293),i={mixins:[n.a],data:()=>({plAlertStyle:{height:"300px"}}),beforeCreate(){this.$options.components.TopicComponentGroup=o.default},created(){this.$props.options.height&&(this.plAlertStyle.height=this.$props.options.height)},computed:{value(){return this.$props.slots.text?this.$props.slots.text:""}},methods:{close(){this.$store.commit("setPopoverOpen",!1),this.$store.commit("setPopoverOptions",{}),this.$store.commit("setPopoverText","")}}},a=(s(354),s(8)),r=Object(a.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pl-alert",style:this.plAlertStyle},[e("span",{staticClass:"pl-alert-close-button",on:{click:this.close}},[e("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"times-circle"}})],1),this._v(" "),e("div",{staticClass:"pl-alert-body"},[e("span",{domProps:{innerHTML:this._s(this.value)}}),this._v(" "),e("topic-component-group",{attrs:{"topic-components":this.options.components,item:this.item}})],1)])},[],!1,null,null,null);e.default=r.exports}}]);