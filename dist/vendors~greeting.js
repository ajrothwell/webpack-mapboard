(window.webpackJsonp=window.webpackJsonp||[]).push([[12,2],{256:function(t,e,n){var i=n(288);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(i,r);i.locals&&(t.exports=i.locals)},257:function(t,e,n){var i=n(290);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(i,r);i.locals&&(t.exports=i.locals)},286:function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(4))},287:function(t,e,n){"use strict";var i=n(256);n.n(i).a},288:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"\n.pvc-search-control-form[data-v-e539eb62] {\r\n  display: inline-block;\n}\r\n\r\n/* Container */\n.pvc-search-control-container[data-v-e539eb62] {\r\n  display: inline-block;\r\n  border-radius: 2px;\r\n  box-shadow:0 2px 4px rgba(0,0,0,0.2),0 -1px 0px rgba(0,0,0,0.02);\r\n  width: 305px;\n}\n.pvc-container-non-mobile[data-v-e539eb62] {\r\n  height: 48px;\n}\n.pvc-container-mobile[data-v-e539eb62] {\r\n  height: 38px;\n}\r\n\r\n\r\n/* Input */\n.pvc-search-control-input[data-v-e539eb62] {\r\n  display: inline-block;\r\n  border: 0;\r\n  padding: 15px;\r\n  font-family: 'Montserrat', 'Tahoma', sans-serif;\r\n  font-size: 16px;\r\n  width: 250px;\n}\n.pvc-input-non-mobile[data-v-e539eb62] {\r\n  height: 48px;\n}\n.pvc-input-mobile[data-v-e539eb62] {\r\n  height: 38px;\n}\r\n\r\n\r\n/* Button */\n.pvc-search-control-button[data-v-e539eb62] {\r\n  display: inline-block;\r\n  color: #fff;\r\n  background: #2176d2;\r\n  padding: 0px;\r\n  width: 50px;\n}\n.pvc-button-non-mobile[data-v-e539eb62] {\r\n  height: 48px;\r\n  line-height: 48px;\n}\n.pvc-button-mobile[data-v-e539eb62] {\r\n  height: 38px;\r\n  line-height: 38px;\r\n  padding-top: 1px;\n}\r\n\r\n\r\n",""])},289:function(t,e,n){"use strict";var i=n(257);n.n(i).a},290:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"\n.list-group[data-v-02613e03] {\r\n  display: inline-block;\r\n  height: 300px;\r\n  width: 250px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\n}\r\n\r\n/* .list-group-full {\r\n  display: inline-block;\r\n  height: 300px;\r\n  width: 197px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\r\n} */\r\n\r\n/* .list-group-mobile {\r\n  display: inline-block;\r\n  height: 300px;\r\n  width: 250px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\r\n}\r\n\r\n.list-group-mobile-full {\r\n  display: inline-block;\r\n  height: 300px;\r\n  width: 197px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\r\n} */\nul[data-v-02613e03] {\r\n  list-style-type: none;\r\n  margin-left: 0px;\n}\n.list-group-item[data-v-02613e03] {\r\n  /* width: 237px; */\r\n  display: block;\r\n  border-radius: 2px;\r\n  box-shadow:0 2px 4px rgba(0,0,0,0.2),0 -1px 0px rgba(0,0,0,0.02);\r\n  border: 2;\r\n  background-color: white;\r\n  padding-top: 10px;\r\n  padding-bottom: 10px;\r\n  padding-left: 10px;\r\n  font-family: 'Montserrat', 'Tahoma', sans-serif;\r\n  font-size: 14px;\r\n  font-weight: normal;\n}\n.list-group-item[data-v-02613e03]:hover {\r\n  background-color: #ffefa2;\r\n  font-weight: bold;\n}\r\n\r\n/*small*/\n@media screen and (max-width: 39.9375em) {\n.list-group[data-v-02613e03] {\r\n    width: 200px;\n}\n.list-group-mobile[data-v-02613e03] {\r\n    width: 200px;\n}\n.list-group-full[data-v-02613e03] {\r\n    width: 147px;\n}\n.list-group-mobile-full[data-v-02613e03] {\r\n    width: 158px;\n}\n}\r\n\r\n",""])},291:function(t,e,n){var i=n(420);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(i,r);i.locals&&(t.exports=i.locals)},316:function(t,e,n){"use strict";n.r(e);var i=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},r=n(286),s="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||s||Function("return this")(),a=function(){return o.Date.now()},d=o.Symbol,l=Object.prototype,c=l.hasOwnProperty,p=l.toString,u=d?d.toStringTag:void 0;var h=function(t){var e=c.call(t,u),n=t[u];try{t[u]=void 0;var i=!0}catch(t){}var r=p.call(t);return i&&(e?t[u]=n:delete t[u]),r},m=Object.prototype.toString;var f=function(t){return m.call(t)},g="[object Null]",v="[object Undefined]",b=d?d.toStringTag:void 0;var w=function(t){return null==t?void 0===t?v:g:b&&b in Object(t)?h(t):f(t)};var x=function(t){return null!=t&&"object"==typeof t},y="[object Symbol]";var C=function(t){return"symbol"==typeof t||x(t)&&w(t)==y},S=NaN,$=/^\s+|\s+$/g,E=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,k=/^0o[0-7]+$/i,I=parseInt;var _=function(t){if("number"==typeof t)return t;if(C(t))return S;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace($,"");var n=A.test(t);return n||k.test(t)?I(t.slice(2),n?2:8):E.test(t)?S:+t},T="Expected a function",O=Math.max,F=Math.min;var L=function(t,e,n){var r,s,o,d,l,c,p=0,u=!1,h=!1,m=!0;if("function"!=typeof t)throw new TypeError(T);function f(e){var n=r,i=s;return r=s=void 0,p=e,d=t.apply(i,n)}function g(t){var n=t-c;return void 0===c||n>=e||n<0||h&&t-p>=o}function v(){var t=a();if(g(t))return b(t);l=setTimeout(v,function(t){var n=e-(t-c);return h?F(n,o-(t-p)):n}(t))}function b(t){return l=void 0,m&&r?f(t):(r=s=void 0,d)}function w(){var t=a(),n=g(t);if(r=arguments,s=this,c=t,n){if(void 0===l)return function(t){return p=t,l=setTimeout(v,e),u?f(t):d}(c);if(h)return l=setTimeout(v,e),f(c)}return void 0===l&&(l=setTimeout(v,e)),d}return e=_(e)||0,i(n)&&(u=!!n.leading,o=(h="maxWait"in n)?O(_(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m),w.cancel=function(){void 0!==l&&clearTimeout(l),p=0,r=c=s=l=void 0},w.flush=function(){return void 0===l?d:b(a())},w},M=n(15),j=n.n(M),W=n(260),z={name:"AddressInput",props:["widthFromConfig","placeholder"],data:()=>({containerStyle:{width:"305px"},inputStyle:{width:"250px"},inputID:Object(W.a)(),addressEntered:null}),created(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()},watch:{addressEntered(t){this.handleWindowResize()}},computed:{inputWidth(){return""===this.addressEntered||null===this.addressEntered?this.$props.widthFromConfig-55:this.$props.widthFromConfig-108},inputClass(){return this.isMobileOrTablet?"pvc-input-mobile":"pvc-input-non-mobile"},containerClass(){return this.isMobileOrTablet?"pvc-container-mobile":"pvc-container-non-mobile"},buttonClass(){return this.isMobileOrTablet?"pvc-button-mobile":"pvc-button-non-mobile"},addressAutocompleteEnabled(){return!!this.$config.addressInput&&!0===this.$config.addressInput.autocompleteEnabled},isMobileOrTablet(){return this.$store.state.isMobileOrTablet}},methods:{didType:L(function(t){const{value:e}=t.target;if(this.$data.addressEntered=e,this.addressAutocompleteEnabled){if("ArrowDown"===t.key)return void document.getElementById("address-candidate-list-0").focus();this.getCandidates(e),"Enter"!==t.key&&this.$store.commit("setShouldShowAddressCandidateList",!0)}},300),getCandidates(t){j.a.get("https://cqvfg1pm72.execute-api.us-east-1.amazonaws.com/dev/first-api-test/",{params:{address:t}}).then(this.didGetCandidates).catch(this.didGetCandidatesError)},didGetCandidates(t){const{matches:e}=t.data,n=e.map(t=>t.address);this.$store.commit("setCandidates",n)},didGetCandidatesError(t){console.log("error getting candidates",t),this.$store.commit("setCandidates",[])},handleFormX(){console.log("handleFormX is running"),this.$data.addressEntered="",this.$store.commit("setShouldShowAddressCandidateList",!1),this.$store.commit("setCandidates",[])},handleSearchFormSubmit(){let t;console.log("handleSearchFormSubmit is running"),t=this.addressAutocompleteEnabled?addressEntered:document.querySelector("#"+this.$data.inputID.toString()).value,this.$controller.handleSearchFormSubmit(t)},handleWindowResize(){const t=this.addressEntered;window.innerWidth>=850?(this.containerStyle.width=this.$props.widthFromConfig+"px",this.inputStyle.width=""===t||null===t?this.$props.widthFromConfig-55+"px":this.$props.widthFromConfig-108+"px"):window.innerWidth>=750?(this.containerStyle.width=this.$props.widthFromConfig-100+"px",this.inputStyle.width=""===t||null===t?this.$props.widthFromConfig-155+"px":this.$props.widthFromConfig-208+"px"):(this.containerStyle.width="300px",this.inputStyle.width=""===t||null===t?"245px":"192px")}}},R=(n(287),n(8)),D=Object(R.a)(z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"pvc-search-control-container "+this.containerClass,style:this.containerStyle},[n("form",{staticClass:"pvc-search-control-form",attrs:{autocomplete:"off",id:"search-form"},on:{submit:function(e){return e.preventDefault(),t.handleSearchFormSubmit(e)}}},[n("input",{class:"pvc-search-control-input "+this.inputClass,style:this.inputStyle,attrs:{id:t.inputID,placeholder:this.$props.placeholder||"Search the map",tabindex:"0"},domProps:{value:this.addressEntered},on:{keyup:t.didType}})]),t._v(" "),""!=this.addressEntered&&null!=this.addressEntered?n("button",{class:"pvc-search-control-button "+this.buttonClass,on:{click:t.handleFormX}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1):t._e(),t._v(" "),n("button",{class:"pvc-search-control-button "+this.buttonClass,attrs:{tabindex:"-1"},on:{click:this.handleSearchFormSubmit}},[n("font-awesome-icon",{attrs:{icon:"search"}})],1),t._v(" "),t._t("address-candidates-slot")],2)},[],!1,null,"e539eb62",null);e.default=D.exports},319:function(t,e,n){"use strict";n.r(e);var i={name:"AddressCandidateList",data:()=>({listStyle:{width:"250px"}}),created(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()},watch:{addressEntered(t){this.handleWindowResize()}},props:["widthFromConfig"],computed:{inputWidth(){return this.$props.widthFromConfig-55},candidates(){const t=this.$config.addressInput.autocompleteMax;if(t){return this.$store.state.candidates.slice(0,t)}return this.$store.state.candidates},shouldShowAddressCandidateList(){return this.$store.state.shouldShowAddressCandidateList},activeTopic(){return this.$store.state.activeTopic},isMobileOrTablet(){return this.$store.state.isMobileOrTablet},addressAutocompleteEnabled(){return!!this.$config.addressInput&&!0===this.$config.addressInput.autocompleteEnabled},listGroupClass(){return this.isMobileOrTablet?this.addressAutocompleteEnabled?""===this.addressEntered||null===this.addressEntered?"list-group-mobile":"list-group-mobile-full":"list-group-mobile":this.addressAutocompleteEnabled?""===this.addressEntered||null===this.addressEntered?"list-group":"list-group-full":"list-group"}},methods:{createLink(t){return this.$store.state.activeTopic?"#/"+t+"/"+this.activeTopic:"#/"+t},maybeUsedArrow(t){const e=t.target.id,n=parseInt(e.substring(e.lastIndexOf("-")+1));let i,r;i=n<this.candidates.length-1?n+1:n,r=0!==n?n-1:0,"ArrowDown"===t.key&&document.getElementById("address-candidate-list-"+i).focus(),"ArrowUp"===t.key&&document.getElementById("address-candidate-list-"+r).focus()},closeAddressCandidateList(t){console.log("AddressCandidateList.vue closeAddressCandidateList is running, addressCandidate:",t),this.$store.commit("setAddressEntered",t),this.$store.commit("setShouldShowAddressCandidateList",!1)},handleWindowResize(t){window.innerWidth>=850?this.listStyle.width=this.$props.widthFromConfig-55+"px":window.innerWidth>=750?this.listStyle.width=this.$props.widthFromConfig-155+"px":this.listStyle.width="248px"}}},r=(n(289),n(8)),s=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:this.shouldShowAddressCandidateList,expression:"this.shouldShowAddressCandidateList"}],class:this.listGroupClass,style:this.listStyle},[n("ul",t._l(t.candidates,function(e,i){return n("li",[n("a",{staticClass:"list-group-item",attrs:{href:t.createLink(e),tabindex:"-1",id:"address-candidate-list-"+i},on:{click:function(n){return t.closeAddressCandidateList(e)},keydown:t.maybeUsedArrow}},[t._v("\n        "+t._s(e)+"\n      ")])])}),0)])},[],!1,null,"02613e03",null);e.default=s.exports},419:function(t,e,n){"use strict";var i=n(291);n.n(i).a},420:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"\n.mb-panel-topics-greeting[data-v-ce0adec6] {\n  padding-top: 20px;\n}\n.greeting[data-v-ce0adec6] {\n  font-size: 20px;\n  color: #444;\n  padding: 14px;\n}\n.greeting-error[data-v-ce0adec6] {\n  border-left-color: #ff0000;\n}\n\n/*medium*/\n@media screen and (min-width: 750px) {\n.mb-panel-topics-greeting[data-v-ce0adec6] {\n    /*make this scroll on medium screens*/\n    /*REVIEW this is a little hacky. the 120px shouldn't be hard-coded.*/\n    height: calc(100vh - 120px);\n    overflow: auto;\n}\n}\n",""])},430:function(t,e,n){"use strict";n.r(e);var i=n(255),r=n(293),s=n(317),o=n(316),a=n(319),d={components:{Image_:s.a,AddressInput:o.default,AddressCandidateList:a.default},mixins:[i.a],data(){return{greetingStyle:this.$props.options.style||{}}},props:{message:{type:String,default:function(){return"defaultMessage"}}},beforeCreate(){this.$options.components&&(this.$options.components.TopicComponentGroup=r.default)},computed:{shouldShowAddressInput(){return"topics"==this.$config.addressInputLocation},addressAutocompleteEnabled(){return!!this.$config.addressInput&&!0===this.$config.addressInput.autocompleteEnabled},components(){return(this.$config.greeting||{}).components},hasError(){return"error"===this.$store.state.geocode.status},errorMessage(){const t=this.$store.state.geocode.input;return`\n        <p>\n          We couldn't find\n          ${t?"<strong>"+t+"</strong>":"that address"}.\n          Are you sure everything was spelled correctly?\n        </p>\n        <p>\n          Here are some examples of things you can search for:\n        </p>\n        <ul>\n          <li>1234 Market St</li>\n          <li>1001 Pine Street #201</li>\n          <li>12th & Market</li>\n        </ul>\n      `}}},l=(n(419),n(8)),c=Object(l.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"columns medium-20 medium-centered",style:t.greetingStyle},[this.shouldShowAddressInput?n("address-input"):t._e(),t._v(" "),this.addressAutocompleteEnabled&&this.shouldShowAddressInput?n("address-candidate-list"):t._e(),t._v(" "),t.components||t.hasError?t._e():n("div",{staticClass:"greeting",domProps:{innerHTML:t._s(t.message)}}),t._v(" "),!t.components&&t.hasError?n("div",{staticClass:"greeting greeting-error",domProps:{innerHTML:t._s(t.errorMessage)}}):t._e(),t._v(" "),n("topic-component-group",{attrs:{"topic-components":t.options.components,item:t.item}}),t._v(" "),t._l(t.components,function(e,i){return t.components?n(e.type,{key:"greeting",tag:"component",staticClass:"topic-comp",attrs:{slots:e.slots}}):t._e()})],2)},[],!1,null,"ce0adec6",null);e.default=c.exports}}]);